file://<HOME>/Uni/2024-2025/Period%201/OOFP/OOFP-Tetris-2024/src/tetris/logic/GameState.scala
### scala.reflect.internal.FatalError: 
  ThisType(method newGameState) for sym which is not a class
     while compiling: file://<HOME>/Uni/2024-2025/Period%201/OOFP/OOFP-Tetris-2024/src/tetris/logic/GameState.scala
        during phase: globalPhase=<no phase>, enteringPhase=parser
     library version: version 2.13.14
    compiler version: version 2.13.14
  reconstructed args: -deprecation -unchecked -Wconf:cat=unchecked:w -Wconf:cat=deprecation:w -Wconf:cat=deprecation:ws -Wconf:cat=feature:ws -Wconf:cat=optimizer:ws -classpath <WORKSPACE>/.bloop/OOFP-Tetris-2024/build/bloop-bsp-clients-classes/classes-Metals-JiRF9SpNQ1S1QWo6Ko4FdA==:<HOME>/.cache/bloop/semanticdb/com.sourcegraph.semanticdb-javac.0.10.0/semanticdb-javac-0.10.0.jar:<HOME>/.gradle/caches/modules-2/files-2.1/com.github.micycle1/processing-core-4/4.3/8a76254386cc6fa2aab4ea8a639e78caca0310c0/processing-core-4-4.3.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.gluegen/gluegen-rt-main/2.5.0-rc-20230523/6a86a9ce357c085e3052efcf639447f9957b82b8/gluegen-rt-main-2.5.0-rc-20230523.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.gluegen/gluegen-rt/2.5.0-rc-20230523/96d48dbc86c688a470e7aa97a1b326efb154c288/gluegen-rt-2.5.0-rc-20230523.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.gluegen/gluegen-rt/2.5.0-rc-20230523/8617b0ba19376ec26f0e37ac9411f4473711784f/gluegen-rt-2.5.0-rc-20230523-natives-android-aarch64.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.gluegen/gluegen-rt/2.5.0-rc-20230523/1a09dbfc2f68d81fbd6721cbd45f2621cabe127b/gluegen-rt-2.5.0-rc-20230523-natives-linux-amd64.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.gluegen/gluegen-rt/2.5.0-rc-20230523/61976e00bb1108775a2d7c3645c3ccea4e2eb652/gluegen-rt-2.5.0-rc-20230523-natives-linux-armv6hf.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.gluegen/gluegen-rt/2.5.0-rc-20230523/6514d21a2a75f9a67a95309d2a825224c76fab1/gluegen-rt-2.5.0-rc-20230523-natives-linux-aarch64.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.gluegen/gluegen-rt/2.5.0-rc-20230523/e92a2d36d36522d8827ce18ad16fb6d75c632576/gluegen-rt-2.5.0-rc-20230523-natives-macosx-universal.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.gluegen/gluegen-rt/2.5.0-rc-20230523/11c0e74f480b526ebc012cf20ea58feb96bb68c7/gluegen-rt-2.5.0-rc-20230523-natives-windows-amd64.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.scala-lang/scala-library/2.13.14/f8b4afe89abe48ca670f620c7da89b71f93e6546/scala-library-2.13.14.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.openjfx/javafx-controls/19.0.2.1/5cd256c5fc0974ed662b48ee8da232f8b736fe8a/javafx-controls-19.0.2.1.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.jogl/jogl-all-main/2.5.0-rc-20230523/6a86a9ce357c085e3052efcf639447f9957b82b8/jogl-all-main-2.5.0-rc-20230523.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-svggen/1.16/714b527914c8295bc1f479b60b0d257357c1318c/batik-svggen-1.16.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-dom/1.16/2d0d63c9177d5c25b52061464457478e9f74363a/batik-dom-1.16.jar:<HOME>/.gradle/caches/modules-2/files-2.1/com.lowagie/itext/2.1.7/892bfb3e97074a61123b3b2d7caa2db112750864/itext-2.1.7.jar:<HOME>/.gradle/caches/modules-2/files-2.1/antlr/antlr/2.7.7/83cd2cd674a217ade95a4bb83a8a14f351f48bd0/antlr-2.7.7.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.openjfx/javafx-graphics/19.0.2.1/c1f87742c6d96f3e68334fa53d58b343f254f59f/javafx-graphics-19.0.2.1.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.jogl/jogl-all/2.5.0-rc-20230523/2429bbff629e6324e8383d7ce2c6a585d7a0d518/jogl-all-2.5.0-rc-20230523.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.jogl/jogl-all/2.5.0-rc-20230523/75fdccf9aa08ebba549f6a1e3b0a5a5155d68ace/jogl-all-2.5.0-rc-20230523-natives-android-aarch64.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.jogl/jogl-all/2.5.0-rc-20230523/952f5de3e278ee131ba84f0dfcd43036940b5ad1/jogl-all-2.5.0-rc-20230523-natives-linux-amd64.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.jogl/jogl-all/2.5.0-rc-20230523/26aaf64f37dec9e86e387d29461c7c2eff322419/jogl-all-2.5.0-rc-20230523-natives-linux-armv6hf.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.jogl/jogl-all/2.5.0-rc-20230523/bb9eb649b305ccf21ba461206680bba51d8bc6e3/jogl-all-2.5.0-rc-20230523-natives-linux-aarch64.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.jogl/jogl-all/2.5.0-rc-20230523/916d54e1c49b557ddd39030093f64498fd65c0e6/jogl-all-2.5.0-rc-20230523-natives-macosx-universal.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.jogl/jogl-all/2.5.0-rc-20230523/dba028035b76e1a8f70fb4fa803d9d8c3286109f/jogl-all-2.5.0-rc-20230523-natives-windows-amd64.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-awt-util/1.16/2f884535c65e892cfe14c7cdc660274528ec15f0/batik-awt-util-1.16.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-css/1.16/9151bffd3799b8f55fb27b81f06156183ffeb307/batik-css-1.16.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-xml/1.16/3055a9f0b0ee5b327c35c62749189b1c4683bc56/batik-xml-1.16.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-util/1.16/cc144a6a69fac333e5ed10ac3169768ceff2b840/batik-util-1.16.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-ext/1.16/3114e178d00db9053498f23cc46668b93c44dbc5/batik-ext-1.16.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-constants/1.16/924370bb08a8ef1d3983d5ea587a17c7845d9af6/batik-constants-1.16.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-i18n/1.16/6e45a40b5e67f89d528bb511d7d938c161dcbc1f/batik-i18n-1.16.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-shared-resources/1.16/75809160dd805a8ce29b655671cd29e47da43efd/batik-shared-resources-1.16.jar:<HOME>/.gradle/caches/modules-2/files-2.1/xml-apis/xml-apis-ext/1.3.04/41a8b86b358e87f3f13cf46069721719105aff66/xml-apis-ext-1.3.04.jar:<HOME>/.gradle/caches/modules-2/files-2.1/bouncycastle/bcmail-jdk14/138/14ff2dfec8578f5f6838c4d6a77a86789afe5382/bcmail-jdk14-138.jar:<HOME>/.gradle/caches/modules-2/files-2.1/bouncycastle/bcprov-jdk14/138/de366c3243a586eb3c0e2bcde1ed9bb1bfb985ff/bcprov-jdk14-138.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.openjfx/javafx-base/19.0.2.1/2667dcd38eb1c7d13998b9ce7ff7dd4f9b63c540/javafx-base-19.0.2.1.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/xmlgraphics-commons/2.7/336ddd6d0a244cdebf26a298fb7c3a5fd45449db/xmlgraphics-commons-2.7.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.bouncycastle/bctsp-jdk14/1.38/4821122f8390d15f4b5ee652621e2a2bb1f1bf16/bctsp-jdk14-1.38.jar:<HOME>/.gradle/caches/modules-2/files-2.1/commons-io/commons-io/1.3.1/b90b6ac57cf27a2858eaa490d02ba7945d18ca7b/commons-io-1.3.1.jar:<HOME>/.gradle/caches/modules-2/files-2.1/commons-logging/commons-logging/1.0.4/f029a2aefe2b3e1517573c580f948caac31b1056/commons-logging-1.0.4.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.bouncycastle/bcmail-jdk14/1.38/14ff2dfec8578f5f6838c4d6a77a86789afe5382/bcmail-jdk14-1.38.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.bouncycastle/bcprov-jdk14/1.38/de366c3243a586eb3c0e2bcde1ed9bb1bfb985ff/bcprov-jdk14-1.38.jar -Xplugin-require:semanticdb -Yrangepos -Ymacro-expand:discard -Ycache-plugin-class-loader:last-modified -Ypresentation-any-thread

  last tree to typer: Ident(p)
       tree position: line 37 of file://<HOME>/Uni/2024-2025/Period%201/OOFP/OOFP-Tetris-2024/src/tetris/logic/GameState.scala
            tree tpe: <error>
              symbol: value p
   symbol definition: p: <error> (a TermSymbol)
      symbol package: tetris.logic
       symbol owners: value p -> value $anonfun -> value newPieceAbsPos -> method newPiecePlacement -> class GameState
           call site: <none> in <none>

== Source file context for tree position ==

    34     //}
    35 
    36     def newPiecePlacement() : GameState = {
    37         val newPieceAbsPos : List[Point] = _CURSOR_iece.struct.map(p => Point(p.x + newPiecePos._1, p.y + newPiecePos._2))
    38         val nBoard : Map[Point,CellType] = reloadBoard(newPieceAbsPos, piece.blockType)
    39         val pieceIndex : Int = randomGen.randomInt(7)
    40         

occurred in the presentation compiler.

presentation compiler configuration:
Scala version: 2.13.14
Classpath:
<WORKSPACE>/.bloop/OOFP-Tetris-2024/build/bloop-bsp-clients-classes/classes-Metals-JiRF9SpNQ1S1QWo6Ko4FdA== [exists ], <HOME>/.cache/bloop/semanticdb/com.sourcegraph.semanticdb-javac.0.10.0/semanticdb-javac-0.10.0.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/com.github.micycle1/processing-core-4/4.3/8a76254386cc6fa2aab4ea8a639e78caca0310c0/processing-core-4-4.3.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.gluegen/gluegen-rt-main/2.5.0-rc-20230523/6a86a9ce357c085e3052efcf639447f9957b82b8/gluegen-rt-main-2.5.0-rc-20230523.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.gluegen/gluegen-rt/2.5.0-rc-20230523/96d48dbc86c688a470e7aa97a1b326efb154c288/gluegen-rt-2.5.0-rc-20230523.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.gluegen/gluegen-rt/2.5.0-rc-20230523/8617b0ba19376ec26f0e37ac9411f4473711784f/gluegen-rt-2.5.0-rc-20230523-natives-android-aarch64.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.gluegen/gluegen-rt/2.5.0-rc-20230523/1a09dbfc2f68d81fbd6721cbd45f2621cabe127b/gluegen-rt-2.5.0-rc-20230523-natives-linux-amd64.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.gluegen/gluegen-rt/2.5.0-rc-20230523/61976e00bb1108775a2d7c3645c3ccea4e2eb652/gluegen-rt-2.5.0-rc-20230523-natives-linux-armv6hf.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.gluegen/gluegen-rt/2.5.0-rc-20230523/6514d21a2a75f9a67a95309d2a825224c76fab1/gluegen-rt-2.5.0-rc-20230523-natives-linux-aarch64.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.gluegen/gluegen-rt/2.5.0-rc-20230523/e92a2d36d36522d8827ce18ad16fb6d75c632576/gluegen-rt-2.5.0-rc-20230523-natives-macosx-universal.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.gluegen/gluegen-rt/2.5.0-rc-20230523/11c0e74f480b526ebc012cf20ea58feb96bb68c7/gluegen-rt-2.5.0-rc-20230523-natives-windows-amd64.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.scala-lang/scala-library/2.13.14/f8b4afe89abe48ca670f620c7da89b71f93e6546/scala-library-2.13.14.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.openjfx/javafx-controls/19.0.2.1/5cd256c5fc0974ed662b48ee8da232f8b736fe8a/javafx-controls-19.0.2.1.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.jogl/jogl-all-main/2.5.0-rc-20230523/6a86a9ce357c085e3052efcf639447f9957b82b8/jogl-all-main-2.5.0-rc-20230523.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-svggen/1.16/714b527914c8295bc1f479b60b0d257357c1318c/batik-svggen-1.16.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-dom/1.16/2d0d63c9177d5c25b52061464457478e9f74363a/batik-dom-1.16.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/com.lowagie/itext/2.1.7/892bfb3e97074a61123b3b2d7caa2db112750864/itext-2.1.7.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/antlr/antlr/2.7.7/83cd2cd674a217ade95a4bb83a8a14f351f48bd0/antlr-2.7.7.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.openjfx/javafx-graphics/19.0.2.1/c1f87742c6d96f3e68334fa53d58b343f254f59f/javafx-graphics-19.0.2.1.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.jogl/jogl-all/2.5.0-rc-20230523/2429bbff629e6324e8383d7ce2c6a585d7a0d518/jogl-all-2.5.0-rc-20230523.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.jogl/jogl-all/2.5.0-rc-20230523/75fdccf9aa08ebba549f6a1e3b0a5a5155d68ace/jogl-all-2.5.0-rc-20230523-natives-android-aarch64.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.jogl/jogl-all/2.5.0-rc-20230523/952f5de3e278ee131ba84f0dfcd43036940b5ad1/jogl-all-2.5.0-rc-20230523-natives-linux-amd64.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.jogl/jogl-all/2.5.0-rc-20230523/26aaf64f37dec9e86e387d29461c7c2eff322419/jogl-all-2.5.0-rc-20230523-natives-linux-armv6hf.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.jogl/jogl-all/2.5.0-rc-20230523/bb9eb649b305ccf21ba461206680bba51d8bc6e3/jogl-all-2.5.0-rc-20230523-natives-linux-aarch64.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.jogl/jogl-all/2.5.0-rc-20230523/916d54e1c49b557ddd39030093f64498fd65c0e6/jogl-all-2.5.0-rc-20230523-natives-macosx-universal.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.jogl/jogl-all/2.5.0-rc-20230523/dba028035b76e1a8f70fb4fa803d9d8c3286109f/jogl-all-2.5.0-rc-20230523-natives-windows-amd64.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-awt-util/1.16/2f884535c65e892cfe14c7cdc660274528ec15f0/batik-awt-util-1.16.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-css/1.16/9151bffd3799b8f55fb27b81f06156183ffeb307/batik-css-1.16.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-xml/1.16/3055a9f0b0ee5b327c35c62749189b1c4683bc56/batik-xml-1.16.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-util/1.16/cc144a6a69fac333e5ed10ac3169768ceff2b840/batik-util-1.16.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-ext/1.16/3114e178d00db9053498f23cc46668b93c44dbc5/batik-ext-1.16.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-constants/1.16/924370bb08a8ef1d3983d5ea587a17c7845d9af6/batik-constants-1.16.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-i18n/1.16/6e45a40b5e67f89d528bb511d7d938c161dcbc1f/batik-i18n-1.16.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-shared-resources/1.16/75809160dd805a8ce29b655671cd29e47da43efd/batik-shared-resources-1.16.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/xml-apis/xml-apis-ext/1.3.04/41a8b86b358e87f3f13cf46069721719105aff66/xml-apis-ext-1.3.04.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/bouncycastle/bcmail-jdk14/138/14ff2dfec8578f5f6838c4d6a77a86789afe5382/bcmail-jdk14-138.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/bouncycastle/bcprov-jdk14/138/de366c3243a586eb3c0e2bcde1ed9bb1bfb985ff/bcprov-jdk14-138.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.openjfx/javafx-base/19.0.2.1/2667dcd38eb1c7d13998b9ce7ff7dd4f9b63c540/javafx-base-19.0.2.1.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/xmlgraphics-commons/2.7/336ddd6d0a244cdebf26a298fb7c3a5fd45449db/xmlgraphics-commons-2.7.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.bouncycastle/bctsp-jdk14/1.38/4821122f8390d15f4b5ee652621e2a2bb1f1bf16/bctsp-jdk14-1.38.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/commons-io/commons-io/1.3.1/b90b6ac57cf27a2858eaa490d02ba7945d18ca7b/commons-io-1.3.1.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/commons-logging/commons-logging/1.0.4/f029a2aefe2b3e1517573c580f948caac31b1056/commons-logging-1.0.4.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.bouncycastle/bcmail-jdk14/1.38/14ff2dfec8578f5f6838c4d6a77a86789afe5382/bcmail-jdk14-1.38.jar [exists ], <HOME>/.gradle/caches/modules-2/files-2.1/org.bouncycastle/bcprov-jdk14/1.38/de366c3243a586eb3c0e2bcde1ed9bb1bfb985ff/bcprov-jdk14-1.38.jar [exists ]
Options:
-deprecation -unchecked -Yrangepos -Xplugin-require:semanticdb


action parameters:
offset: 1558
uri: file://<HOME>/Uni/2024-2025/Period%201/OOFP/OOFP-Tetris-2024/src/tetris/logic/GameState.scala
text:
```scala
package tetris.logic

import tetris.logic.Tetronimo
import engine.random.RandomGenerator
import com.lowagie.text.Cell
import java.text.Normalizer

class GameState(val gridDims : Dimensions, val randomGen : RandomGenerator,val piece : Tetronimo,val piecePos : (Int, Int) = (0,0), val board : Map[Point, CellType] ,val newPieceFlag : Boolean = false){
    val allPieces : Map[Int,(List[Point],CellType)] = Map(
        0 -> (List(Point(-1,0),Point(0,0),Point(1,0),Point(2,0)),ICell),
        1 -> (List(Point(-1,-1),Point(0,0),Point(-1,0),Point(1,0)),JCell),
        2 -> (List(Point(-1,0),Point(0,0),Point(1,0),Point(1,-1)),LCell),
        3 -> (List(Point(1,0),Point(0,0),Point(0,-1), Point(1,-1)),OCell),
        4 -> (List(Point(-1,0),Point(0,0),Point(0,-1),Point(1,-1)),SCell),
        5 -> (List(Point(-1,0),Point(0,0),Point(0,-1),Point(1,0)),TCell),
        6 -> (List(Point(-1,-1),Point(0,0),Point(0,-1),Point(1,0)),ZCell)
    )    
    val currPieceAbsPos : List[Point] = piece.struct.map(p => Point(p.x + piecePos._1, p.y + piecePos._2))

    def boundCheck(currPos : List[Point]) : Int = {
        for(p <- currPos){
            if (p.x > gridDims.width - 1 || p.x < 0 ){
                return 2
            }
            else if(board(p) != Empty || p.y > gridDims.height){
                return 3
            }
        }
        return -1
    }
// use integers to check for specific bound behaviour
    //def pieceInFloor() : GameState = {
        
    //}

    def newPiecePlacement() : GameState = {
        val newPieceAbsPos : List[Point] = @@iece.struct.map(p => Point(p.x + newPiecePos._1, p.y + newPiecePos._2))
        val nBoard : Map[Point,CellType] = reloadBoard(newPieceAbsPos, piece.blockType)
        val pieceIndex : Int = randomGen.randomInt(7)
        
        val basePiece : Tetronimo = 
            if(pieceIndex != 0 && pieceIndex != 3){
                new NormalTetronimo(pieceIndex, allPieces(pieceIndex)._1, allPieces(pieceIndex)._2)
            }else if(pieceIndex == 0){
                new ITetronimo
            }else{
                new OTetronimo
            }
        val newPiecePos : (Int, Int)= 
            if(gridDims.width % 2 != 0) {
                (gridDims.width / 2, 1)
            } else {
                ((gridDims.width / 2) - 1, 1)
            }

        val startingPosition : List[Point] = basePiece.struct.map(p => Point(p.x + newPiecePos._1, p.y + newPiecePos._2))
        //val newBoard = reloadBoard(startingPosition, basePiece.blockType)
        return new GameState(gridDims, randomGen,basePiece,newPiecePos,board, false)
    }
    
    def rotatePieceLeft() : GameState = {
        val newPiece : Tetronimo = piece.rotateLeft
        val newPieceAbsPos : List[Point] = newPiece.struct.map(p => Point(p.x + piecePos._1, p.y + piecePos._2))
        if(boundCheck(newPieceAbsPos) != 2 && boundCheck(newPieceAbsPos) != 3){
            println("Rotated Left")
            return newGameState(newPiece = newPiece)
        }else{
            return newGameState()
        }
    }

    def rotatePieceRight() : GameState = {
        val newPiece : Tetronimo = piece.rotateRight
        val newPieceAbsPos : List[Point] = newPiece.struct.map(p => Point(p.x + piecePos._1, p.y + piecePos._2))
        if(boundCheck(newPieceAbsPos) != 2 && boundCheck(newPieceAbsPos) != 3){
            println("Rotated Right")
            return newGameState(newPiece = newPiece)
        }else{
            return newGameState()
        }
    }
    def moveLeft() : GameState = {
        val newPiecePos : (Int, Int) = (piecePos._1 - 1, piecePos._2)
        val newPieceAbsPos : List[Point] = piece.struct.map(p => Point(p.x + newPiecePos._1, p.y + newPiecePos._2))
        if(boundCheck(newPieceAbsPos) != 2 && boundCheck(newPieceAbsPos) != 3){
            println("Moved Left")
            return newGameState(newPiecePos = newPiecePos)
        }else{
            return newGameState()
        }    
    }
    def moveRight() : GameState = {
        val newPiecePos : (Int, Int) = (piecePos._1 + 1, piecePos._2)
        val newPieceAbsPos : List[Point] = piece.struct.map(p => Point(p.x + newPiecePos._1, p.y + newPiecePos._2))
        if(boundCheck(newPieceAbsPos) != 2 && boundCheck(newPieceAbsPos) != 3){
            println("Moved Right")
            return newGameState(newPiecePos = newPiecePos)
        }else{
            return newGameState()
        }
    }
    def moveDown() : GameState = {
        val nPiecePos : (Int, Int) = (piecePos._1, piecePos._2 + 1)
        val newPieceAbsPos : List[Point] = piece.struct.map(p => Point(p.x + nPiecePos._1, p.y + nPiecePos._2))
        if(boundCheck(newPieceAbsPos) == 3){
            println("newPiece")
            return newGameState(newNewPieceFlag = true)
        }else{
            return newGameState(newPiecePos = nPiecePos)
        }
    }
    def pointInPiece(piece : List[Point],p : Point) : Boolean = {
        for(i <- piece){
            if(i.sameAs(p)){
                return true
            }
        }
        return false
    }

    //use this only for setted pieces?

    def reloadBoard(currPiecePos : List[Point], currPiece : CellType) : Map[Point, CellType] = {
        val newBoard : Map[Point, CellType] = board.map {
        case (key, value) =>
            if(pointInPiece(currPiecePos,key)){
                key -> currPiece
            }else{
                key -> value
            }
        }.toMap
        return newBoard
    }
    def newGameState(gridDims : Dimensions = gridDims, randomGen : RandomGenerator = randomGen, 
                    newPiece : Tetronimo = piece, newPiecePos : (Int, Int) = piecePos, 
                    newBoard : Map[Point, CellType] = board, newNewPieceFlag : Boolean = newPieceFlag)
                    : GameState = {
        if(!newNewPieceFlag){
            return new GameState(gridDims, randomGen, newPiece, newPiecePos, newBoard, newNewPieceFlag)
        }else{
            return new GameState(gridDims,randomGen, newPiece, newPiecePos, board, false).newPiecePlacement()
        }
    }
}
```



#### Error stacktrace:

```
scala.reflect.internal.Reporting.abort(Reporting.scala:70)
	scala.reflect.internal.Reporting.abort$(Reporting.scala:66)
	scala.reflect.internal.SymbolTable.abort(SymbolTable.scala:28)
	scala.reflect.internal.Types$ThisType.<init>(Types.scala:1394)
	scala.reflect.internal.Types$UniqueThisType.<init>(Types.scala:1414)
	scala.reflect.internal.Types$ThisType$.apply(Types.scala:1418)
	scala.meta.internal.pc.AutoImportsProvider$$anonfun$autoImports$3.applyOrElse(AutoImportsProvider.scala:74)
	scala.meta.internal.pc.AutoImportsProvider$$anonfun$autoImports$3.applyOrElse(AutoImportsProvider.scala:60)
	scala.collection.immutable.List.collect(List.scala:268)
	scala.meta.internal.pc.AutoImportsProvider.autoImports(AutoImportsProvider.scala:60)
	scala.meta.internal.pc.ScalaPresentationCompiler.$anonfun$autoImports$1(ScalaPresentationCompiler.scala:306)
```
#### Short summary: 

scala.reflect.internal.FatalError: 
  ThisType(method newGameState) for sym which is not a class
     while compiling: file://<HOME>/Uni/2024-2025/Period%201/OOFP/OOFP-Tetris-2024/src/tetris/logic/GameState.scala
        during phase: globalPhase=<no phase>, enteringPhase=parser
     library version: version 2.13.14
    compiler version: version 2.13.14
  reconstructed args: -deprecation -unchecked -Wconf:cat=unchecked:w -Wconf:cat=deprecation:w -Wconf:cat=deprecation:ws -Wconf:cat=feature:ws -Wconf:cat=optimizer:ws -classpath <WORKSPACE>/.bloop/OOFP-Tetris-2024/build/bloop-bsp-clients-classes/classes-Metals-JiRF9SpNQ1S1QWo6Ko4FdA==:<HOME>/.cache/bloop/semanticdb/com.sourcegraph.semanticdb-javac.0.10.0/semanticdb-javac-0.10.0.jar:<HOME>/.gradle/caches/modules-2/files-2.1/com.github.micycle1/processing-core-4/4.3/8a76254386cc6fa2aab4ea8a639e78caca0310c0/processing-core-4-4.3.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.gluegen/gluegen-rt-main/2.5.0-rc-20230523/6a86a9ce357c085e3052efcf639447f9957b82b8/gluegen-rt-main-2.5.0-rc-20230523.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.gluegen/gluegen-rt/2.5.0-rc-20230523/96d48dbc86c688a470e7aa97a1b326efb154c288/gluegen-rt-2.5.0-rc-20230523.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.gluegen/gluegen-rt/2.5.0-rc-20230523/8617b0ba19376ec26f0e37ac9411f4473711784f/gluegen-rt-2.5.0-rc-20230523-natives-android-aarch64.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.gluegen/gluegen-rt/2.5.0-rc-20230523/1a09dbfc2f68d81fbd6721cbd45f2621cabe127b/gluegen-rt-2.5.0-rc-20230523-natives-linux-amd64.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.gluegen/gluegen-rt/2.5.0-rc-20230523/61976e00bb1108775a2d7c3645c3ccea4e2eb652/gluegen-rt-2.5.0-rc-20230523-natives-linux-armv6hf.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.gluegen/gluegen-rt/2.5.0-rc-20230523/6514d21a2a75f9a67a95309d2a825224c76fab1/gluegen-rt-2.5.0-rc-20230523-natives-linux-aarch64.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.gluegen/gluegen-rt/2.5.0-rc-20230523/e92a2d36d36522d8827ce18ad16fb6d75c632576/gluegen-rt-2.5.0-rc-20230523-natives-macosx-universal.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.gluegen/gluegen-rt/2.5.0-rc-20230523/11c0e74f480b526ebc012cf20ea58feb96bb68c7/gluegen-rt-2.5.0-rc-20230523-natives-windows-amd64.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.scala-lang/scala-library/2.13.14/f8b4afe89abe48ca670f620c7da89b71f93e6546/scala-library-2.13.14.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.openjfx/javafx-controls/19.0.2.1/5cd256c5fc0974ed662b48ee8da232f8b736fe8a/javafx-controls-19.0.2.1.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.jogl/jogl-all-main/2.5.0-rc-20230523/6a86a9ce357c085e3052efcf639447f9957b82b8/jogl-all-main-2.5.0-rc-20230523.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-svggen/1.16/714b527914c8295bc1f479b60b0d257357c1318c/batik-svggen-1.16.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-dom/1.16/2d0d63c9177d5c25b52061464457478e9f74363a/batik-dom-1.16.jar:<HOME>/.gradle/caches/modules-2/files-2.1/com.lowagie/itext/2.1.7/892bfb3e97074a61123b3b2d7caa2db112750864/itext-2.1.7.jar:<HOME>/.gradle/caches/modules-2/files-2.1/antlr/antlr/2.7.7/83cd2cd674a217ade95a4bb83a8a14f351f48bd0/antlr-2.7.7.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.openjfx/javafx-graphics/19.0.2.1/c1f87742c6d96f3e68334fa53d58b343f254f59f/javafx-graphics-19.0.2.1.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.jogl/jogl-all/2.5.0-rc-20230523/2429bbff629e6324e8383d7ce2c6a585d7a0d518/jogl-all-2.5.0-rc-20230523.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.jogl/jogl-all/2.5.0-rc-20230523/75fdccf9aa08ebba549f6a1e3b0a5a5155d68ace/jogl-all-2.5.0-rc-20230523-natives-android-aarch64.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.jogl/jogl-all/2.5.0-rc-20230523/952f5de3e278ee131ba84f0dfcd43036940b5ad1/jogl-all-2.5.0-rc-20230523-natives-linux-amd64.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.jogl/jogl-all/2.5.0-rc-20230523/26aaf64f37dec9e86e387d29461c7c2eff322419/jogl-all-2.5.0-rc-20230523-natives-linux-armv6hf.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.jogl/jogl-all/2.5.0-rc-20230523/bb9eb649b305ccf21ba461206680bba51d8bc6e3/jogl-all-2.5.0-rc-20230523-natives-linux-aarch64.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.jogl/jogl-all/2.5.0-rc-20230523/916d54e1c49b557ddd39030093f64498fd65c0e6/jogl-all-2.5.0-rc-20230523-natives-macosx-universal.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.jogamp.jogl/jogl-all/2.5.0-rc-20230523/dba028035b76e1a8f70fb4fa803d9d8c3286109f/jogl-all-2.5.0-rc-20230523-natives-windows-amd64.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-awt-util/1.16/2f884535c65e892cfe14c7cdc660274528ec15f0/batik-awt-util-1.16.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-css/1.16/9151bffd3799b8f55fb27b81f06156183ffeb307/batik-css-1.16.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-xml/1.16/3055a9f0b0ee5b327c35c62749189b1c4683bc56/batik-xml-1.16.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-util/1.16/cc144a6a69fac333e5ed10ac3169768ceff2b840/batik-util-1.16.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-ext/1.16/3114e178d00db9053498f23cc46668b93c44dbc5/batik-ext-1.16.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-constants/1.16/924370bb08a8ef1d3983d5ea587a17c7845d9af6/batik-constants-1.16.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-i18n/1.16/6e45a40b5e67f89d528bb511d7d938c161dcbc1f/batik-i18n-1.16.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/batik-shared-resources/1.16/75809160dd805a8ce29b655671cd29e47da43efd/batik-shared-resources-1.16.jar:<HOME>/.gradle/caches/modules-2/files-2.1/xml-apis/xml-apis-ext/1.3.04/41a8b86b358e87f3f13cf46069721719105aff66/xml-apis-ext-1.3.04.jar:<HOME>/.gradle/caches/modules-2/files-2.1/bouncycastle/bcmail-jdk14/138/14ff2dfec8578f5f6838c4d6a77a86789afe5382/bcmail-jdk14-138.jar:<HOME>/.gradle/caches/modules-2/files-2.1/bouncycastle/bcprov-jdk14/138/de366c3243a586eb3c0e2bcde1ed9bb1bfb985ff/bcprov-jdk14-138.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.openjfx/javafx-base/19.0.2.1/2667dcd38eb1c7d13998b9ce7ff7dd4f9b63c540/javafx-base-19.0.2.1.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.apache.xmlgraphics/xmlgraphics-commons/2.7/336ddd6d0a244cdebf26a298fb7c3a5fd45449db/xmlgraphics-commons-2.7.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.bouncycastle/bctsp-jdk14/1.38/4821122f8390d15f4b5ee652621e2a2bb1f1bf16/bctsp-jdk14-1.38.jar:<HOME>/.gradle/caches/modules-2/files-2.1/commons-io/commons-io/1.3.1/b90b6ac57cf27a2858eaa490d02ba7945d18ca7b/commons-io-1.3.1.jar:<HOME>/.gradle/caches/modules-2/files-2.1/commons-logging/commons-logging/1.0.4/f029a2aefe2b3e1517573c580f948caac31b1056/commons-logging-1.0.4.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.bouncycastle/bcmail-jdk14/1.38/14ff2dfec8578f5f6838c4d6a77a86789afe5382/bcmail-jdk14-1.38.jar:<HOME>/.gradle/caches/modules-2/files-2.1/org.bouncycastle/bcprov-jdk14/1.38/de366c3243a586eb3c0e2bcde1ed9bb1bfb985ff/bcprov-jdk14-1.38.jar -Xplugin-require:semanticdb -Yrangepos -Ymacro-expand:discard -Ycache-plugin-class-loader:last-modified -Ypresentation-any-thread

  last tree to typer: Ident(p)
       tree position: line 37 of file://<HOME>/Uni/2024-2025/Period%201/OOFP/OOFP-Tetris-2024/src/tetris/logic/GameState.scala
            tree tpe: <error>
              symbol: value p
   symbol definition: p: <error> (a TermSymbol)
      symbol package: tetris.logic
       symbol owners: value p -> value $anonfun -> value newPieceAbsPos -> method newPiecePlacement -> class GameState
           call site: <none> in <none>

== Source file context for tree position ==

    34     //}
    35 
    36     def newPiecePlacement() : GameState = {
    37         val newPieceAbsPos : List[Point] = _CURSOR_iece.struct.map(p => Point(p.x + newPiecePos._1, p.y + newPiecePos._2))
    38         val nBoard : Map[Point,CellType] = reloadBoard(newPieceAbsPos, piece.blockType)
    39         val pieceIndex : Int = randomGen.randomInt(7)
    40         